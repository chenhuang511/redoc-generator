# Redoc project generator

This is simple tool for generating a [Redoc](https://github.com/Redocly/redoc) project and can work smoothly with [Redocly](https://redocly.com/docs/cli).

The idea is very basic:
* Create an API documentation page based on OpenAPI specification.
* Run, manage project with Redocly.
* Track changes from OpenAPI then update the project.

Versions tested:
* Redocly CE (community edition) version ``1.12.2``
* OpenAPI version ``3``

### Sample API doc page generated by this tool
![sample page](./sample.png)

# Install
## From this source code
1. Clone this source code
2. At the root directory of the source code, run following command to register CLI with OS:
    ```shell
   npm install -g .
   ```
3. Check with ``docgen`` command, current version is ``1.0.0``:
    ```
    docgen version
    ``` 
## Install Redocly CLI
Redocly is needed for running our project. We can use some another ways to manage, run a Redoc project, but in my context, I use Redocly.

Install:
   ```shell
   npm i -g @redocly/cli@latest
   ```
Or checkout the official document from Redocly [here](https://redocly.com/docs/cli/installation/).

# Usage
## Initialize new project
At the **empty folder** run following command to init project:
   ```shell
   docgen init <url>
   ```
where ``url`` is the OpenAPI specification URL you want to check out.

For example, with a typical OpenAPI specs [Petstore](https://petstore3.swagger.io/):
   ```shell
   docgen init https://petstore3.swagger.io/api/v3/openapi.json
   ```
the result will be:
   ```shell
   D:\14-APIDOC-GENERATOR\test>docgen init https://petstore3.swagger.io/api/v3/openapi.json
   Generating redoc project for url: https://petstore3.swagger.io/api/v3/openapi.json ...
   Created folder: assets
   Created folder: assets/img
   Created folder: info
   Created folder: info/api
   Created folder: samples
   Created folder: samples/request
   Created folder: samples/response
   Created file: D:\14-APIDOC-GENERATOR\test\info\home.md
   Created file: D:\14-APIDOC-GENERATOR\test\README.md
   Created file: D:\14-APIDOC-GENERATOR\test\redocly.yml
   Generated standard folders and files
   Generating standard contents ...
   Generated sample request, response, info files
   Modified redocly config file
   Write log...
   Init process is done
   ```
About the project structure, please see **Structure** part for more details.

## Run project
Use redocly to run the project, at the root directory of the project (where we run the ``init`` command):
   ```shell
   redocly preview-docs 
   ```
The document website will be served on port ``8080`` (default of redocly), and we can access with URL ``http://localhost:8080``.

You may want to change the port because ``8080`` is too easily conflict with another application.
   ```shell
   redocly preview-docs --port=8041
   ```
More commands and information can be referred from [Redocly website](https://redocly.com/docs/cli/commands/preview-docs/).

## Update project
When some API(s) are added, or removed, or just changed the request/response, we can automatically change our API documents as well.

At the root directory of the project, run:
   ```shell
   docgen update
   ```
